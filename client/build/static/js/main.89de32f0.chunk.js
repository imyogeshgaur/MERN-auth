(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a(1),n=a.n(s),c=a(29),o=a.n(c),i=(a(37),a(12)),l=a(3),u=a(15),j=a(31),p=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return Object(r.jsx)(l.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return localStorage.getItem("authToken")?Object(r.jsx)(t,Object(u.a)({},e)):Object(r.jsx)(l.a,{to:"/login"})}}))},d=a(5),b=a.n(d),m=a(10),h=a(2),O=a(11),f=a.n(O),x=(a(62),function(){var e=Object(s.useState)(""),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),o=Object(h.a)(c,2),i=o[0],l=o[1];return Object(s.useEffect)((function(){(function(){var e=Object(m.a)(b.a.mark((function e(){var t,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=1,e.next=4,f.a.get("/api/private",t);case 4:a=e.sent,r=a.data,l(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),localStorage.removeItem("authToken"),n("You are not authorized please login");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),a?Object(r.jsx)("span",{className:"error-message",children:a}):Object(r.jsx)("div",{children:i})}),g=(a(63),function(e){var t=e.history,a=Object(s.useState)(""),n=Object(h.a)(a,2),c=n[0],o=n[1],l=Object(s.useState)(""),u=Object(h.a)(l,2),j=u[0],p=u[1],d=Object(s.useState)(""),O=Object(h.a)(d,2),x=O[0],g=O[1];Object(s.useEffect)((function(){localStorage.getItem("authToken")&&t.push("/")}),[t]);var v=function(){var e=Object(m.a)(b.a.mark((function e(a){var r,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,f.a.post("/api/auth/login",{email:c,password:j},r);case 5:s=e.sent,n=s.data,localStorage.setItem("authToken",n.token),t.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),g(e.t0.response.data.error),setTimeout((function(){g("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"login-screen",children:Object(r.jsxs)("form",{onSubmit:v,className:"login-screen__form",children:[Object(r.jsx)("h3",{className:"login-screen__title",children:"Login"}),x&&Object(r.jsx)("span",{className:"error-message",children:x}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(r.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",onChange:function(e){return o(e.target.value)},value:c,tabIndex:1})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsxs)("label",{htmlFor:"password",children:["Password:"," ",Object(r.jsx)(i.b,{to:"/forgotpassword",className:"login-screen__forgotpassword",children:"Forgot Password?"})]}),Object(r.jsx)("input",{type:"password",required:!0,id:"password",autoComplete:"true",placeholder:"Enter password",onChange:function(e){return p(e.target.value)},value:j,tabIndex:2})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),Object(r.jsxs)("span",{className:"login-screen__subtext",children:["Don't have an account? ",Object(r.jsx)(i.b,{to:"/register",children:"Register"})]})]})})}),v=(a(64),function(e){var t=e.history,a=Object(s.useState)(""),n=Object(h.a)(a,2),c=n[0],o=n[1],l=Object(s.useState)(""),u=Object(h.a)(l,2),j=u[0],p=u[1],d=Object(s.useState)(""),O=Object(h.a)(d,2),x=O[0],g=O[1],v=Object(s.useState)(""),w=Object(h.a)(v,2),N=w[0],y=w[1],S=Object(s.useState)(""),C=Object(h.a)(S,2),k=C[0],_=C[1],T=function(){var e=Object(m.a)(b.a.mark((function e(a){var r,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r={header:{"Content-Type":"application/json"}},x===N){e.next=7;break}return g(""),y(""),setTimeout((function(){_("")}),5e3),e.abrupt("return",_("Passwords do not match"));case 7:return e.prev=7,e.next=10,f.a.post("/api/auth/register",{username:c,email:j,password:x},r);case 10:s=e.sent,n=s.data,localStorage.setItem("authToken",n.token),t.push("/"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),_(e.t0.response.data.error),setTimeout((function(){_("")}),5e3);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"register-screen",children:Object(r.jsxs)("form",{onSubmit:T,className:"register-screen__form",children:[Object(r.jsx)("h3",{className:"register-screen__title",children:"Register"}),k&&Object(r.jsx)("span",{className:"error-message",children:k}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"name",children:"Username:"}),Object(r.jsx)("input",{type:"text",required:!0,id:"name",placeholder:"Enter username",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(r.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(r.jsx)("input",{type:"password",required:!0,id:"password",autoComplete:"true",placeholder:"Enter password",value:x,onChange:function(e){return g(e.target.value)}})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm Password:"}),Object(r.jsx)("input",{type:"password",required:!0,id:"confirmpassword",autoComplete:"true",placeholder:"Confirm password",value:N,onChange:function(e){return y(e.target.value)}})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"}),Object(r.jsxs)("span",{className:"register-screen__subtext",children:["Already have an account? ",Object(r.jsx)(i.b,{to:"/login",children:"Login"})]})]})})}),w=(a(65),function(){var e=Object(s.useState)(""),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),o=Object(h.a)(c,2),i=o[0],l=o[1],u=Object(s.useState)(""),j=Object(h.a)(u,2),p=j[0],d=j[1],O=function(){var e=Object(m.a)(b.a.mark((function e(t){var r,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,f.a.post("/api/auth/forgotpassword",{email:a},r);case 5:s=e.sent,c=s.data,d(c.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),l(e.t0.response.data.error),n(""),setTimeout((function(){l("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"forgotpassword-screen",children:Object(r.jsxs)("form",{onSubmit:O,className:"forgotpassword-screen__form",children:[Object(r.jsx)("h3",{className:"forgotpassword-screen__title",children:"Forgot Password"}),i&&Object(r.jsx)("span",{className:"error-message",children:i}),p&&Object(r.jsx)("span",{className:"success-message",children:p}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("p",{className:"forgotpassword-screen__subtext",children:"Please enter the email address you register your account with. We will send you reset password confirmation to this email"}),Object(r.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(r.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:a,onChange:function(e){return n(e.target.value)}})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Email"})]})})}),N=(a(66),function(e){e.history;var t=e.match,a=Object(s.useState)(""),n=Object(h.a)(a,2),c=n[0],o=n[1],l=Object(s.useState)(""),u=Object(h.a)(l,2),j=u[0],p=u[1],d=Object(s.useState)(""),O=Object(h.a)(d,2),x=O[0],g=O[1],v=Object(s.useState)(""),w=Object(h.a)(v,2),N=w[0],y=w[1],S=function(){var e=Object(m.a)(b.a.mark((function e(a){var r,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r={header:{"Content-Type":"application/json"}},c===j){e.next=7;break}return o(""),p(""),setTimeout((function(){g("")}),5e3),e.abrupt("return",g("Passwords don't match"));case 7:return e.prev=7,e.next=10,f.a.put("/api/auth/passwordreset/".concat(t.params.resetToken),{password:c},r);case 10:s=e.sent,n=s.data,console.log(n),y(n.data),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),g(e.t0.response.data.error),setTimeout((function(){g("")}),5e3);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"resetpassword-screen",children:Object(r.jsxs)("form",{onSubmit:S,className:"resetpassword-screen__form",children:[Object(r.jsx)("h3",{className:"resetpassword-screen__title",children:"Forgot Password"}),x&&Object(r.jsxs)("span",{className:"error-message",children:[x," "]}),N&&Object(r.jsxs)("span",{className:"success-message",children:[N," ",Object(r.jsx)(i.b,{to:"/login",children:"Login"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"password",children:"New Password:"}),Object(r.jsx)("input",{type:"password",required:!0,id:"password",placeholder:"Enter new password",autoComplete:"true",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm New Password:"}),Object(r.jsx)("input",{type:"password",required:!0,id:"confirmpassword",placeholder:"Confirm new password",autoComplete:"true",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset Password"})]})})}),y=function(){return Object(r.jsx)(i.a,{children:Object(r.jsx)("div",{className:"app",children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(p,{exact:!0,path:"/",component:x}),Object(r.jsx)(l.b,{exact:!0,path:"/login",component:g}),Object(r.jsx)(l.b,{exact:!0,path:"/register",component:v}),Object(r.jsx)(l.b,{exact:!0,path:"/forgotpassword",component:w}),Object(r.jsx)(l.b,{exact:!0,path:"/passwordreset/:resetToken",component:N})]})})})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))};o.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(y,{})}),document.getElementById("root")),S()}},[[67,1,2]]]);
//# sourceMappingURL=main.89de32f0.chunk.js.map